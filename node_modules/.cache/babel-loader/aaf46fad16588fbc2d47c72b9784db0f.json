{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Town-Club\\\\React-Town-Front\\\\react-town\\\\src\\\\components\\\\front\\\\auth\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  let history = useHistory();\n  const [error, setError] = useState([]);\n  const [loginInput, setLogin] = useState({\n    email: '',\n    password: ''\n  });\n\n  const handleInput = e => {\n    setLogin({ ...loginInput,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginSubmit = e => {\n    e.preventDefault();\n    const data = {\n      email: loginInput.email,\n      password: loginInput.password\n    };\n    axios.get('/sanctum/csrf-cookie').then(res => {\n      axios.post('/api/login', data).then(res => {\n        if (res.data.status === 200) {\n          localStorage.setItem('token', res.data.token);\n          localStorage.setItem('user email', res.data.email);\n          swal(\"Successfully\", res.data.message, \"success\");\n\n          if (res.data.role === 'admin') {\n            history.push('/admin/Dashboard');\n          } else {\n            history.push('/TownClub/Home');\n          }\n        } else if (res.data.status === 422) {\n          swal(\"Warning\", res.data.message, \"warning\");\n        } else {\n          setError(res.data.errors);\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    align: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: loginSubmit,\n      className: \"col-lg-4\",\n      style: {\n        marginTop: '90px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"TownClub/Home\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mb-4\",\n          src: \"login.png\",\n          alt: \"\",\n          width: \"82\",\n          height: \"75\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h3 mb-3 fw-normal\",\n        children: \"Please sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          onChange: handleInput,\n          value: loginInput.email,\n          className: \"form-control\",\n          id: \"control\",\n          placeholder: \"name@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingInput\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: error.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleInput,\n          value: loginInput.password,\n          className: \"form-control\",\n          id: \"control\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"floatingPassword\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: error.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkbox mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"control\",\n            value: \"remember-me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), \" Remember me\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-100 btn btn-lg btn-outline-secondary\",\n        type: \"submit\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-5 mb-3 text-muted\",\n        children: \"Copyright; 2021\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"+Uh4T5CbHHEnT6y654j3H2q0794=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/xampp/htdocs/Town-Club/React-Town-Front/react-town/src/components/front/auth/Login.js"],"names":["React","useState","Link","useHistory","swal","axios","Login","history","error","setError","loginInput","setLogin","email","password","handleInput","e","target","name","value","loginSubmit","preventDefault","data","get","then","res","post","status","localStorage","setItem","token","message","role","push","errors","marginTop","color"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport {Link,useHistory} from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction Login(){\r\n\r\n    let history = useHistory();\r\n\r\n    const [error,setError] = useState([]); \r\n    const [loginInput,setLogin] = useState({\r\n        email : '',\r\n        password : '',\r\n    });\r\n\r\n    const handleInput = (e) => {\r\n\r\n        setLogin({...loginInput,[e.target.name] : e.target.value});\r\n\r\n    }\r\n\r\n    const loginSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            email : loginInput.email,\r\n            password : loginInput.password,\r\n        };\r\n\r\n        axios.get('/sanctum/csrf-cookie').then(res => {\r\n            \r\n                axios.post('/api/login',data).then(res => {\r\n\r\n                    if(res.data.status === 200)\r\n                    {\r\n                        localStorage.setItem('token',res.data.token);\r\n                        localStorage.setItem('user email',res.data.email);\r\n                        swal(\"Successfully\",res.data.message,\"success\");\r\n                        if(res.data.role === 'admin')\r\n                        {\r\n                            history.push('/admin/Dashboard');\r\n                        }\r\n                        else\r\n                        {\r\n                            history.push('/TownClub/Home');\r\n                        }\r\n                    }\r\n                    else if(res.data.status === 422)\r\n                    { \r\n                        swal(\"Warning\",res.data.message,\"warning\");\r\n                    }\r\n                    else\r\n                    {\r\n                        setError(res.data.errors);\r\n                    }\r\n\r\n                });\r\n\r\n        });\r\n\r\n    }\r\n\r\n    return(\r\n        <div align=\"center\">\r\n            <form onSubmit={loginSubmit} className=\"col-lg-4\" style={{marginTop:'90px'}}>\r\n                <Link to='TownClub/Home'><img className=\"mb-4\" src=\"login.png\" alt=\"\" width=\"82\" height=\"75\"/></Link>\r\n                <h1 className=\"h3 mb-3 fw-normal\">Please sign in</h1>\r\n            \r\n                <div className=\"form-floating\">\r\n                        <input type=\"email\" name=\"email\" onChange={handleInput} value={loginInput.email} className=\"form-control\"  id=\"control\"  placeholder=\"name@example.com\"/>\r\n                        <label for=\"floatingInput\">Email address</label>\r\n                        <span  style={{color:'red'}}>{error.email}</span>\r\n                    </div>\r\n                        <br/>\r\n                    <div className=\"form-floating\">\r\n                        <input type=\"password\" name=\"password\" onChange={handleInput} value={loginInput.password} className=\"form-control\"  id=\"control\"  placeholder=\"Password\"/>\r\n                        <label for=\"floatingPassword\">Password</label>\r\n                        <span  style={{color:'red'}}>{error.password}</span>\r\n                    </div>\r\n                    <br/>\r\n            \r\n                <div className=\"checkbox mb-3\">\r\n                <label>\r\n                    <input type=\"checkbox\"  id=\"control\"  value=\"remember-me\"/> Remember me\r\n                </label>\r\n                </div>\r\n                <button className=\"w-100 btn btn-lg btn-outline-secondary\" type=\"submit\">Sign in</button>\r\n                <p className=\"mt-5 mb-3 text-muted\">Copyright; 2021</p>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}